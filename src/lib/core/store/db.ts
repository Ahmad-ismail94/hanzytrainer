import Dexie,{Table}from'dexie';export interface VocabCard{id:string;simplified:string;pinyin:string;english_gloss:string;hsk_level:number;stroke_svg?:string;audio_ref?:string;tags?:string[]}export interface ReviewLog{id?:number;card_id:string;ts:number;mode:'guided'|'recall';result:'again'|'hard'|'good'|'easy';errors:number}export interface SRSState{card_id:string;interval:number;ease:number;due_ts:number;error_weight:number}export class HanziDB extends Dexie{cards!:Table<VocabCard,string>;srs!:Table<SRSState,string>;reviews!:Table<ReviewLog,number>;constructor(){super('hanzi-trainer');this.version(1).stores({cards:'id, hsk_level',srs:'card_id, due_ts',reviews:'++id, card_id, ts'})}}export const db=new HanziDB();